# üí≥ Bank REST API

[![Java](https://img.shields.io/badge/Java-17+-blue?logo=openjdk)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.0-brightgreen?logo=springboot)](https://spring.io/projects/spring-boot)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15.0-blue?logo=postgresql)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker)](https://www.docker.com/)
[![Swagger](https://img.shields.io/badge/docs-Swagger-85EA2D?logo=swagger)](http://localhost:8080/api/swagger-ui/index.html)

RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏: –≤—ã–ø—É—Å–∫, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –ø–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –ø–æ —Ä–æ–ª—è–º (**USER** –∏ **ADMIN**).

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [üë®‚Äçüíª –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø](#-—Ä–æ–ª–∏-–∏-–¥–æ—Å—Ç—É–ø)
- [üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-api)
- [üõ£Ô∏è –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API](#-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã-api)
    - [Auth Controller](#-auth-controller-auth)
    - [User Controller](#-user-controller-users)
    - [Card Controller](#-card-controller-cards)
    - [Test Controller](#-test-controller-apitest)
- [üì¶ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)
- [üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã **Docker** –∏ **Docker Compose**.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/amirzcheek/Bank_REST.git
    cd Bank_REST
    ```

2.  **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
    ```bash
    mvn clean package -DskipTests
    docker-compose up --build
    ```

3.  **–ì–æ—Ç–æ–≤–æ! –°–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º:**
    *   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: **http://localhost:8080**
    *   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL): **localhost:5432**
    *   Swagger UI: **http://localhost:8080/api/swagger-ui/index.html**

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

| –†–æ–ª—å | –õ–æ–≥–∏–Ω | –ü–∞—Ä–æ–ª—å |
| :--- | :--- | :--- |
| **ADMIN** | `admin` | `admin123` |
| **USER** | `user` | `user123` |

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1.  –ü–æ–ª—É—á–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/auth/login`.
2.  –î–æ–±–∞–≤–ª—è—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
    ```
    Authorization: Bearer <–≤–∞—à_JWT_—Ç–æ–∫–µ–Ω>
    ```

---

## üë®‚Äçüíª –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

*   **PUBLIC**: –î–æ—Å—Ç—É–ø –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.
*   **USER**: –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –ø–µ—Ä–µ–≤–æ–¥—ã).
*   **ADMIN**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º –∏ –¥–∞–Ω–Ω—ã–º –≤ —Å–∏—Å—Ç–µ–º–µ.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–î–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Swagger UI**:
üëâ **[http://localhost:8080/api/swagger-ui/index.html](http://localhost:8080/api/swagger-ui/index.html)**

–¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –≤ **Postman**, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Å—ã–ª–∫—É –∏–∑ Swagger (`/api/v3/api-docs`).

---

## üõ£Ô∏è –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

### üîë Auth Controller (`/auth`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ | –û—Ç–≤–µ—Ç |
| :--- | :--- | :--- | :--- | :--- |
| **POST** | `/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `{"username": "string", "password": "string", "role": "USER"}` | JWT + User |
| **POST** | `/auth/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞ | `{"username": "string", "password": "string"}` | JWT Token |

### üë§ User Controller (`/users`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Ç–≤–µ—Ç |
| :--- | :--- | :--- | :--- | :--- |
| **GET** | `/users` | **ADMIN** | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `List<UserDto>` |
| **DELETE** | `/users/{id}` | **ADMIN** | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID | `204 No Content` |

### üí≥ Card Controller (`/cards`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ | –û—Ç–≤–µ—Ç |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **GET** | `/cards` | **USER, ADMIN** | –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) | ‚Äî | `Page<CardDto>` |
| **POST** | `/cards` | **ADMIN** | –í—ã–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É | `{"userId": long, "cardType": "VISA", "initialBalance": 5000}` | `CardDto` |
| **POST** | `/cards/{id}/deposit` | **ADMIN** | –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã | `{"amount": 1000}` | `CardDto` |
| **POST** | `/cards/{id}/block` | **USER**, ADMIN | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É (USER ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ—é) | ‚Äî | `CardDto` |
| **POST** | `/cards/{id}/activate` | **USER**, ADMIN | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É (USER ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ—é) | ‚Äî | `CardDto` |
| **POST** | `/cards/transfer` | **USER, ADMIN** | –ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏ | `{"fromCardId": 1, "toCardId": 2, "amount": 500}` | `String` |
| **GET** | `/cards/{id}/balance` | **USER, ADMIN** | –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã | ‚Äî | `BigDecimal` |
| **GET** | `/cards/all` | **ADMIN** | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ä—Ç (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) | ‚Äî | `Page<CardDto>` |
| **DELETE** | `/cards/{id}` | **ADMIN** | –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É | ‚Äî | `204 No Content` |

### üß™ Test Controller (`/api/test`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Ç–≤–µ—Ç |
| :--- | :--- | :--- | :--- | :--- |
| **GET** | `/api/test` | **PUBLIC** | –¢–µ—Å—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | `String` |
| **GET** | `/api/test/auth` | **USER, ADMIN** | –¢–µ—Å—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π | `String` |

---

## üì¶ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST "http://localhost:8080/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username": "user", "password": "user123"}'
```
2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç (–ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):

```bash
curl -X GET "http://localhost:8080/cards?page=0&size=10" \
  -H "Authorization: Bearer <YOUR_JWT_TOKEN>"
```
3. –ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏:

```bash
curl -X POST "http://localhost:8080/cards/transfer" \
  -H "Authorization: Bearer <YOUR_JWT_TOKEN>" \
  -H "Content-Type: application/json" \
  -d '{"fromCardId": 1, "toCardId": 2, "amount": 1000}'
```

üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
Backend: Java 21, Spring Boot 3.4.4, Spring Security, Spring Data JPA, Lombok

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: JWT (JSON Web Token)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Springdoc OpenAPI (Swagger UI)

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: Docker, Docker Compose

–°–±–æ—Ä–∫–∞: Maven
